
- type: custom:dwains-flexbox-card
  items_classes: 'col-xs-12 col-sm-6 col-md-6 col-lg-9'  
# items_classes: 'col-xs-12 col-sm-6 col-md-6 col-lg-12'
#  items_classes: 'col-xs-12 col-sm-6 col-md-6 col-lg-6'
  padding: true
  cards:
    - type: vertical-stack
      cards:
      - type: custom:meteo-france-weather-card
        name: Albi
        entity: weather.albi
        rainForecastEntity: sensor.albi_next_rain
        freezeChanceEntity: sensor.albi_freeze_chance
        rainChanceEntity: sensor.albi_rain_chance
        snowChanceEntity: sensor.albi_snow_chance
        thunderChanceEntity: sensor.albi_thunder_chance
        alertEntity: sensor.albi_weather_alert
        uvEntity: sensor.vp2_uv
        cloudCoverEntity: sensor.albi_cloud_cover
    - type: vertical-stack
      cards:
      - type: custom:apexcharts-card
        graph_span: 14d
        span:
          start: hour
        header:
          show: true
          title: Prévisions precipitation
        series:
          - entity: weather.albi
            name: pluvio
            type: area
            extend_to_end: false
            data_generator: |
              return entity.attributes.forecast.map((entry) => {
                return [new Date(entry.datetime).getTime(), entry.precipitation];
              });
      - type: custom:apexcharts-card
        graph_span: 14d
        span:
          start: hour
        header:
          show: true
          title: Prévisions Temperature
        series:
          - entity: weather.albi
            name: T° Moy
            type: line
            extend_to_end: false
            color: green
            data_generator: |
              return entity.attributes.forecast.map((entry) => {
                return [new Date(entry.datetime).getTime(), entry.temperature];
              }); 
          - entity: weather.albi
            name: T° Basse
            type: line
            extend_to_end: false
            color: red
            data_generator: |
              return entity.attributes.forecast.map((entry) => {
                return [new Date(entry.datetime).getTime(), entry.templow];
              }); 

    - type: vertical-stack
      cards:
      - type: iframe
        card_mod:
          style: |
            ha-card {
              margin-top: 1em;
            }          
        url: >-
          https://embed.windy.com/embed2.html?lat=43.91905434993742&lon=2.1979451056884747&zoom=8&level=surface&overlay=wind&menu=&message=true&marker=&calendar=now&pressure=&type=map&location=coordinates&detail=&detailLat=45.522&detailLon=2.373&metricWind=default&metricTemp=default&radarRange=-1
        aspect_ratio: 100%
    
