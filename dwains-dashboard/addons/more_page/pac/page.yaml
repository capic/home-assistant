- type: custom:dwains-flexbox-card
  items_classes: 'col-xs-12 col-sm-6 col-sm-6 col-md-3'
  padding: true
  cards:
  - type: vertical-stack
    cards:
      - name: PAC
        styles:
          card:
            - padding: '2% 0px'
            - text-transform: uppercase
            - font-size: 125%
            - color: 'var(--dwains-theme-accent)'
            - border-radius: 0%
            - font-weight: 100
            - letter-spacing: 10px
            - --mdc-ripple-press-opacity: 0
            - cursor: initial
          name:
            - font-weight: 900
        type: 'custom:button-card'

      - type: vertical-stack
        cards:
          - type: grid
            cards:
              - type: gauge
                entity: sensor.espaltherma_temp_ambiante_int_r1t
                min: 10
                max: 40
                needle: true
                severity:
                  green: 22
                  yellow: 18
                  red: 0
              - type: gauge
                entity: sensor.espaltherma_temp_air_ext
                max: 50
                needle: true
                min: -10
                severity:
                  green: 18
                  yellow: -10
                  red: 30
                name: T° Ext
              - type: gauge
                entity: sensor.espaltherma_temp_cible
                min: 0
                max: 40
                name: Temp Cible
              - type: gauge
                entity: sensor.espaltherma_cop
                min: 0
                max: 10
                name: COP
                needle: true
                severity:
                  green: 8
                  yellow: 5
                  red: 0
              - type: gauge
                entity: sensor.espaltherma_courant_primaire
                min: 0
                max: 15
                name: Courant P
                unit: A
                needle: true
                severity:
                  green: 0
                  yellow: 3
                  red: 5
              - type: gauge
                entity: sensor.espaltherma_temp_dep_calculee
                min: 0
                max: 100
                name: Temp. Dep c

          - type: picture-elements
            elements:
              - type: state-badge
                entity: sensor.espaltherma_temp_eau_depart
                style:
                  top: 40%
                  left: 90%
              - type: state-badge
                entity: sensor.espaltherma_temp_eau_depart_echangeur_plaque
                style:
                  top: 43%
                  left: 77%
              - type: state-badge
                entity: sensor.espaltherma_signal_ppe_eau
                style:
                  top: 25%
                  left: 65%
              - type: state-badge
                entity: sensor.espaltherma_capteur_debit
                style:
                  top: 25%
                  left: 52%
              - type: state-badge
                entity: sensor.espaltherma_temp_eau_retour_rt4
                style:
                  top: 89%
                  left: 90%
              - type: state-badge
                entity: sensor.espaltherma_temp_liquid_r3t
                style:
                  top: 40%
                  left: 27%
            image: /local/pac4.png
  - type: vertical-stack
    cards:
      - name: Historiques
        styles:
          card:
            - padding: '2% 0px'
            - text-transform: uppercase
            - font-size: 125%
            - color: 'var(--dwains-theme-accent)'
            - border-radius: 0%
            - font-weight: 100
            - letter-spacing: 10px
            - --mdc-ripple-press-opacity: 0
            - cursor: initial
          name:
            - font-weight: 900
        type: 'custom:button-card'

      - type: vertical-stack
        cards:
          - type: vertical-stack
            cards:
              - type: history-graph
                entities:
                  - entity: sensor.espaltherma_temp_eau_depart_echangeur_plaque
                    name: T° Départ
                  - entity: sensor.espaltherma_temp_eau_retour_rt4
                    name: T° Retour
                  - entity: sensor.espaltherma_temp_air_ext
                    name: T° Ext
                  - entity: sensor.espaltherma_temp_ambiante_int_r1t
                    name: T° Int
                  - entity: sensor.espaltherma_mode_fonctionnement
                  - entity: switch.altherma
                hours_to_show: 24
                refresh_interval: 0
          - type: custom:mini-graph-card
            color_thresholds:
              - color: '#00FF00'
                value: 0
              - color: '#FF9900'
                value: 2000
              - color: '#EA9999'
                value: 4000
              - color: '#CC0000'
                value: 8000
            color_thresholds_transition: hard
            line_width: 2
            icon: mdi:flash
            show:
              extrema: true
              fill: true
              icon: true
              labels: false
              name: true
              state: true
            hour24: true
            points_per_hour: 4
            hours_to_show: 24
            group: false
            state_map:
              - label: hp
                value: 'off'
              - label: hc
                value: 'on'
            style: |
              ha-card {
                border: solid 2px var(--primary-color);
              }
            entities:
              - entity: sensor.puissance_pac_rpac
                name: Totale
              - color: '#CCC0cCC'
                entity: binary_sensor.display_hp_hc
                name: HC
                show_line: false
                y_axis: secondary
            name: Puissance PAC 24h
