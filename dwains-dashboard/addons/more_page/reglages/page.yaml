- type: custom:dwains-flexbox-card
  items_classes: 'col-xs-12 col-sm-6 col-sm-6 col-md-3'
  cards:

###############################################################
# GENERAUX
    - type: vertical-stack
      cards:
        - name: GENERAUX
          styles:
            card:
              - text-transform: uppercase
              - color: 'var(--dwains-theme-accent)'
              - font-size: 125%
              - border-radius: 0%
              - font-weight: 100
              - letter-spacing: 10px
          type: 'custom:button-card'

        - type: entities
          entities:
            - entity: input_select.presence
              name: Mode Présence
            - entities:
                - entity: sensor.linky_tarif_2
                  name: Tarif
                - entity: input_boolean.com_linky  
                  name: Com 
              entity: sensor.linky_tarif_2
              icon: mdi:flash
              name: Linky
              show_state: false
              type: custom:multiple-entity-row
            - entities:
                - entity: input_datetime.horaire_hc_debut_1
                  name: Déb
                - entity: input_datetime.horaire_hp_debut_1
                  name: Fin
              entity: input_datetime.horaire_hc_debut_1
              icon: mdi:clock
              name: Tranche 1 HC
              show_state: false
              type: custom:multiple-entity-row
            - entities:
                - entity: input_datetime.horaire_hc_debut_2
                  name: Déb
                - entity: input_datetime.horaire_hp_debut_2
                  name: Fin
              entity: input_datetime.horaire_hc_debut_1
              icon: mdi:clock
              name: Tranche 2 HC
              show_state: false
              type: custom:multiple-entity-row              
            - entities:
                - entity: input_boolean.hc_hp
                  name: HC / HP si actif
                - entity: input_boolean.forcage_hc_hp
                  name: Forcage en HC                  
              entity: input_boolean.hc_hp
              icon: mdi:clock
              name: HC / HP si actif
              show_state: false
              type: custom:multiple-entity-row

          how_header_toggle: false
          style: |
            ha-card {
              border: solid 2px var(--primary-color);
            }

###############################################################    
## volets
    - type: vertical-stack
      cards:
        - name: VOLETS
          styles:
            card:
              - text-transform: uppercase
              - color: 'var(--dwains-theme-accent)'
              - font-size: 125%
              - border-radius: 0%
              - font-weight: 100
              - letter-spacing: 10px
          type: 'custom:button-card'
        - type: entities
          entities:
            - entity: input_select.volets
              name: Mode de Fonctionnement
            - entities:
                - entity: sun.sun
                  name: Position              
                - entity: sensor.heure_leve_soleil
                  name: Levé
                - entity: sensor.heure_couche_soleil
                  name: Couché
              entity: sensor.heure_leve_soleil
              icon: mdi:weather-sunny
              name: Soleil
              show_state: false
              type: custom:multiple-entity-row
            - entities:
                - entity: sensor.bh1750_illuminance
                  name: mesure
                - entity: input_number.luminosite_seuil_bas
                  name: Bas
                - entity: input_number.luminosite_seuil_haut
                  name: Haut
              entity: input_number.luminosite_seuil_bas
              icon: mdi:weather-sunny
              name: Auto Hiver
              show_state: false
              type: custom:multiple-entity-row
            - entities:
                - entity: input_datetime.horaire_ete_volet_ouv
                  name: Ouv
                - entity: input_datetime.horaire_ete_volet_ferm
                  name: Ferm
              entity: input_datetime.horaire_ete_volet_ouv
              icon: mdi:clock
              name: Auto Ete
              show_state: false
              type: custom:multiple-entity-row
            - entities:
                - entity: input_boolean.nuit_jour
                  name: N/J (Actif)
                - entity: input_boolean.presence_amis_bureau
                  name: Amis Bur
                - entity: input_boolean.presence_amis_ch_nord
                  name: Amis Nord
                - entity: input_boolean.presence_amis_ch_sud
                  name: Amis Sud
              entity: input_boolean.nuit_jour
              icon: mdi:account
              name: Communs
              show_state: false
              type: custom:multiple-entity-row
            - entities:
                - entity: input_datetime.horaire_ete_volet_ouv
                  name: Heure Ouverture ETE
                - entity: input_datetime.horaire_ete_volet_ferm
                  name: Heure Fermeture ETE
                - entity: input_number.luminosite_seuil_bas
                  name: Lumin. Seuil bas
                - entity: input_number.luminosite_seuil_haut
                  name: Lumin. Seuil Haut
                - entity: input_boolean.nuit_jour
                - entity: input_boolean.presence_amis_bureau
                  name: Presence Amis Bureau
                - entity: input_boolean.presence_amis_ch_nord
                  name: Presence Amis Chamb Nord
                - entity: input_boolean.presence_amis_ch_sud
                  name: Presence Amis Chamb Sud
              head:
                label: Plus d'Informations
                type: section
              padding: 0
              type: custom:fold-entity-row
          how_header_toggle: false
          style: |
            ha-card {
              border: solid 2px var(--primary-color);
            }
          
###############################################################
# ECS
    - type: vertical-stack
      cards:
        - name: ECS
          styles:
            card:
              - text-transform: uppercase
              - color: 'var(--dwains-theme-accent)'
              - font-size: 125%
              - border-radius: 0%
              - font-weight: 100
              - letter-spacing: 10px
          type: 'custom:button-card'

        - type: entities
          entities:
            - entity: input_select.ecs_ssol
              name: Mode de Fonctionnement
            - entities:
                - entity: input_datetime.horaire_ecs_debut
                  name: Debut
                - entity: input_datetime.horaire_ecs_fin
                  name: Fin
              entity: input_datetime.horaire_hc_debut_1
              icon: mdi:clock
              name: Hor ECS
              show_state: false
              type: custom:multiple-entity-row

            - entities:
                - entity: input_boolean.ecs_av_pv
                  name: ' '
              entity: input_boolean.ecs_av_pv
              icon: mdi:clock
              name: ECS piloté par Routeur PV
              show_state: false
              type: custom:multiple-entity-row
            - entities:
                - entity: sensor.ecs_chauffage_ce_jour
                  name: Tps Chauffe
                - entity: binary_sensor.ecs_chauffe
                  name: Chauffage

              entity: sensor.ecs_chauffage_ce_jour
              icon: mdi:water-boiler
              name: Info ECS
              show_state: false
              type: custom:multiple-entity-row
            - entities:

                - entity: switch.cde_relais_ecs
                  name: Rel ECS
                - entity: switch.cde_relais_ecs_router_pv
                  name: Rel PV
              entity: switch.cde_relais_ecs
              icon: mdi:water-boiler
              name: Relais
              show_state: false
              type: custom:multiple-entity-row              
            - entities:
                - entity: input_datetime.horaire_ecs_debut
                  name: Heure debut tranche ECS
                - entity: input_datetime.horaire_ecs_fin
                  name: Heure fin tranche ECS

                - entity: input_boolean.ecs_av_pv
                  name: ECS piloté par Routeur PV
              head:
                label: Plus d'Informations
                type: section
              padding: 0
              type: custom:fold-entity-row
            - entities:
                - entity: switch.cde_relais_ecs
                  name: Relais ECS
                - entity: switch.cde_relais_ecs_router_pv
                  name: Relais Routeur PV
              head:
                label: Commandes relais
                type: section
              padding: 0
              type: custom:fold-entity-row
          how_header_toggle: false
          show_header_toggle: false
          style: |
            ha-card {
              border: solid 2px var(--primary-color);
            }

###############################################################
# VMC NIV 0
    - type: vertical-stack
      cards:
        - name: VMC NIV0
          styles:
            card:
              - text-transform: uppercase
              - color: 'var(--dwains-theme-accent)'
              - font-size: 125%
              - border-radius: 0%
              - font-weight: 100
              - letter-spacing: 10px
          type: 'custom:button-card'

        - type: entities
          entities:
            - entity: input_select.vmc_niv0
              name: Mode de Fonctionnement
            - entities:
                - entity: sensor.temperature_salon_zb
                  name: Aspi
                - entity: sensor.thermometre_temperature
                  name: Insuf
                - entity: sensor.vp2_temp_out
                  name: Ext
                - entity: sensor.efficacite_vmc
                  name: Eff
              entity: sensor.efficacite_vmc
              icon: mdi:temperature-celsius
              name: Temp
              show_state: false
              type: custom:multiple-entity-row
            - entities:
                - entity: sensor.concentration_de_particules_2_5um
                  name: PM2.5
                - entity: sensor.mh_z19_co2_value
                  name: Co2
              entity: input_datetime.heure_vmc_niv0_ma
              icon: mdi:molecule-co2
              name: Qualité Air
              show_state: false
              type: custom:multiple-entity-row
            - entities:
                - entity: input_number.seuil_pm2_5_ma
                  name: Seuil Ma
                - entity: input_number.seuil_pm2_5_at
                  name: Seuil At
              entity: input_datetime.heure_vmc_niv0_ma
              icon: mdi:molecule
              name: M Hiver
              show_state: false
              type: custom:multiple-entity-row
            - entities:
                - entity: input_datetime.heure_vmc_niv0_ma
                  name: Heure Ma VMC
                - entity: input_datetime.heure_vmc_niv0_at
                  name: Heure At VMC
              entity: input_datetime.heure_vmc_niv0_ma
              icon: mdi:clock
              name: M Ete
              show_state: false
              type: custom:multiple-entity-row
            - entities:
                - entity: sensor.energie_vmc_jour
                  name: Jour
                - entity: sensor.ecocompteur_vmc_niv0
                  name: Pu
              entity: sensor.energie_vmc_jour
              icon: mdi:flash
              name: Conso
              show_state: false
              type: custom:multiple-entity-row
            - entities:
                - entity: switch.sonoff_vmc_niv0_on_off
                  name: ' '
              entity: input_datetime.horaire_vmc_ss_debut
              icon: mdi:fan-speed-3
              name: Relais VMC
              show_state: false
              type: custom:multiple-entity-row
            - entities:
                - entity: sensor.energy_vmc_usage_daily_hc
                - entity: sensor.energy_vmc_usage_daily_hp
                - entity: switch.sonoff_vmc_niv0_on_off
                  name: Relais VMC
              head:
                label: Plus d'Informations
                type: section
              padding: 0
              type: custom:fold-entity-row
          how_header_toggle: false
          style: |
            ha-card {
              border: solid 2px var(--primary-color);
            }


###############################################################            
# VMC SOUS SOL
    - type: vertical-stack
      cards:
        - name: VMC SSOL
          styles:
            card:
              - text-transform: uppercase
              - color: 'var(--dwains-theme-accent)'
              - font-size: 125%
              - border-radius: 0%
              - font-weight: 100
              - letter-spacing: 10px
          type: 'custom:button-card'

        - type: entities
          entities:
            - entity: input_select.vmc_ssol
              name: Mode de Fonctionnement
            - entities:
                - entity: input_datetime.horaire_vmc_ss_debut
                  name: Heure Marche VMC
                - entity: input_datetime.horaire_vmc_ss_fin
                  name: Heure Arret VMC
              entity: input_datetime.horaire_vmc_ss_debut
              icon: mdi:clock
              name: Tranche Horaire Auto
              show_state: false
              type: custom:multiple-entity-row
            - entities:
                - entity: switch.vmc_ssol
                  name: ' '
              entity: input_datetime.horaire_vmc_ss_debut
              icon: mdi:fan-speed-3
              name: Relais VMC
              show_state: false
              type: custom:multiple-entity-row
            - entities:
                - entity: input_datetime.horaire_vmc_ss_debut
                  name: Heure Marche VMC
                - entity: input_datetime.horaire_vmc_ss_fin
                  name: Heure Arret VMC
                - entity: switch.vmc_ssol
                  name: Relais VMC
              head:
                label: Plus d'Informations
                type: section
              padding: 0
              type: custom:fold-entity-row
          how_header_toggle: false
          style: |
            ha-card {
              border: solid 2px var(--primary-color);
            }
